<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.分析生命周期</title>
    <script src="../js/vue.js"></script>
</head>
<body>
<div id="root" :x="n">
     
    <h2>当前n值为: {{ n }}</h2>
    <h2 v-text="n"></h2>
    <button @click="add">点我n+1</button>
    <button @click="bye">点我销毁vm</button>
</div>
<script>
    Vue.config.productionTip = false;
    const vm = new Vue({
        el: "#root",
        data: {
            n: 1,
        },
        methods: {
            add() {
                console.log("adding");
                this.n++;
            },
            bye() {
                console.log("bye");
                this.$destroy();
            }
        },
        watch: {
            n() {
                console.log("n 变了");
            }
        },
        beforeCreate() {
            console.log('beforeCreate');
            console.log(this);
        },
        created() {
            console.log('created');
            console.log(this);
        },
        beforeMount() {
            console.log('beforeMount');
            console.log(this);
        },

        //mounted
        //vue完成模版的解析并把初始的真实的dom元素挂载完毕就调用mounted函数
        //只调用一次
        mounted() {
            //关键性时刻调用对应的函数 生命周期
            console.log('mounted');
            console.log(this);
        },
        beforeUpdate() {
            console.log('beforeUpdate');
            console.log(this.n);
        },
        updated() {
            console.log('updated');
            console.log(this.n);
        },
        beforeDestroy() {
            console.log('beforeDestroy');
            console.log(this.n);
        },
        destroyed() {
            console.log('destroyed');
        },
    });

</script>
</body>
</html>