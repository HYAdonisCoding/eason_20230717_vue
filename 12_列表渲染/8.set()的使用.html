<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>set()的使用</title>
    <script src="../js/vue.js"></script>
</head>
<body>
<div id="root">
    
<h2>学习名称： {{ name }}</h2>
<h2>学习地址： {{ address }}</h2>
<hr>
<h2>学生信息</h2>
<button @click.once="addSex">添加一个性别属性，默认是男</button>
<h2>姓名： {{ stu.name }}</h2>
<h2>年龄： {{ stu.age.sage }}</h2>
<h2 v-if="stu.sex">性别： {{ stu.sex }}</h2>
<h2>朋友们</h2>
<ul v-for="(f, idx) in stu.friends" :key="idx">
    <li>{{ f.name }} - {{ f.age }} - {{ f.sex }} </li>
</ul>
</div>
<script type="text/javascript">
    Vue.config.productionTip = false;

    
    const vm = new Vue({
        el: '#root',
        
        data: {
            name: '北京大学',
            address: '北京海淀',
            stu: {
                name: 'Eason',
                age:  {
                    range: 12,
                    sage: 22
                },
                friends: [
                    { name: 'Amy', age: 18, sex: 'male' },
                    { name: 'Tom', age: 20, sex: 'male' },
                    { name: 'Alice', age: 22, sex: 'male' },
                ]
            }
        },
        methods: {
            addSex() {
                //利用vue.set(或者vm.$set())api能够添加的属性变为响应式属性
                //注意对象不能是 Vue 实例，或者 Vue 实例的根数据对象。
                Vue.set(this.stu, 'sex', '男')
            }
        }
    })
</script>
</body>
</html>